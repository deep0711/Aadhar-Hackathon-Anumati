{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJECTS\\\\Aadhar-Hackathon-Anumati\\\\Anumati-client\\\\src\\\\Screens\\\\WelcomeScreen.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect } from \"react\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { connect } from \"react-redux\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport aadharLogo from \"../assets/Aadhar-Color.png\";\nvar DELAY_TIME = 1000;\n\nfunction WelcomeScreen(props) {\n  useEffect(function () {\n    props.checkForUserToken();\n    setTimeout(function _callee() {\n      var value;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('userToken'));\n\n            case 3:\n              value = _context.sent;\n\n              if (value === null) {\n                props.navigation.reset({\n                  index: 0,\n                  routes: [{\n                    name: 'Registration'\n                  }]\n                });\n              } else {\n                props.navigation.reset({\n                  index: 0,\n                  routes: [{\n                    name: 'CreatePIN'\n                  }]\n                });\n              }\n\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 7]], Promise);\n    }, DELAY_TIME);\n  }, []);\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, React.createElement(Image, {\n    source: aadharLogo,\n    style: styles.logo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }), React.createElement(ActivityIndicator, {\n    size: \"large\",\n    color: \"black\",\n    style: {\n      marginTop: 100\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var tokenFound = state.LocalStorageReducer.tokenFound;\n  return {\n    loginStatus: tokenFound\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    checkForUserToken: function checkForUserToken() {\n      var value, aadharCardNumber, mPin;\n      return _regeneratorRuntime.async(function checkForUserToken$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('userToken'));\n\n            case 3:\n              value = _context2.sent;\n              _context2.next = 6;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('aAdharNumber'));\n\n            case 6:\n              aadharCardNumber = _context2.sent;\n              _context2.next = 9;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('mPin'));\n\n            case 9:\n              mPin = _context2.sent;\n\n              if (value !== null) {\n                dispatch({\n                  type: 'TOKEN_FOUND',\n                  aNumber: aadharCardNumber,\n                  _mPin: mPin\n                });\n              }\n\n              _context2.next = 16;\n              break;\n\n            case 13:\n              _context2.prev = 13;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 16:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[0, 13]], Promise);\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WelcomeScreen);\nvar styles = StyleSheet.create({\n  container: {\n    paddingTop: 20,\n    flex: 1,\n    justifyContent: 'center'\n  },\n  logo: {\n    width: 190,\n    height: 120,\n    alignSelf: 'center'\n  }\n});","map":{"version":3,"sources":["D:/PROJECTS/Aadhar-Hackathon-Anumati/Anumati-client/src/Screens/WelcomeScreen.js"],"names":["React","useEffect","connect","AsyncStorage","aadharLogo","DELAY_TIME","WelcomeScreen","props","checkForUserToken","setTimeout","getItem","value","navigation","reset","index","routes","name","console","log","styles","container","logo","marginTop","mapStateToProps","state","tokenFound","LocalStorageReducer","loginStatus","mapDispatchToProps","dispatch","aadharCardNumber","mPin","type","aNumber","_mPin","StyleSheet","create","paddingTop","flex","justifyContent","width","height","alignSelf"],"mappings":"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","sourcesContent":["import React , { useEffect } from \"react\";\r\nimport { Image, View , StyleSheet , ActivityIndicator} from \"react-native\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nimport aadharLogo from '../assets/Aadhar-Color.png';\r\n\r\nconst DELAY_TIME = 1000;\r\n\r\nfunction WelcomeScreen( props ) {\r\n\r\n    useEffect(() => {\r\n        props.checkForUserToken();\r\n        setTimeout(async () => {\r\n            try {\r\n                const value = await AsyncStorage.getItem('userToken');\r\n                if (value === null) {\r\n                    props.navigation.reset({\r\n                        index: 0,\r\n                        routes: [{ name: 'Registration'}]\r\n                    });\r\n                }  else {\r\n                    props.navigation.reset({\r\n                        index: 0,\r\n                        routes: [{ name: 'CreatePIN'}]\r\n                    });\r\n                }\r\n            } catch(err) {\r\n                console.log(err);\r\n            }\r\n        } , DELAY_TIME);\r\n    } , []);\r\n\r\n    return(\r\n        <View style={ styles.container }>\r\n            <Image source={aadharLogo} style={ styles.logo }/>\r\n            <ActivityIndicator size=\"large\" color=\"black\" style={{marginTop: 100}}/>\r\n        </View>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ( state ) => {\r\n    const { tokenFound } = state.LocalStorageReducer;   \r\n    return {\r\n        loginStatus : tokenFound,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = ( dispatch ) => {\r\n    return {\r\n        checkForUserToken: async() => { \r\n            try {\r\n                const value = await AsyncStorage.getItem('userToken');\r\n                const aadharCardNumber = await AsyncStorage.getItem('aAdharNumber');\r\n                const mPin = await AsyncStorage.getItem('mPin');\r\n                if (value !== null) {\r\n                    dispatch({ type: 'TOKEN_FOUND' , aNumber: aadharCardNumber , _mPin: mPin}); \r\n                }  \r\n            } catch(err) {\r\n                console.log(err);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps , mapDispatchToProps)(WelcomeScreen);\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        paddingTop: 20,\r\n        flex: 1,\r\n        justifyContent: 'center'\r\n    },\r\n    logo: {\r\n        width: 190,\r\n        height: 120,\r\n        alignSelf:'center',\r\n    }\r\n})"]},"metadata":{},"sourceType":"module"}